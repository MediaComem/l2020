<script src="{{site.url}}/js/vendors/jQuery.js"></script>
<script src="{{site.url}}/js/vendors/bootstrap.js" type="text/javascript"></script>
<script src="{{site.url}}/js/creatives/navbar.js" type="text/javascript"></script>
<script src="{{site.url}}/js/common.js" type="text/javascript"></script>
<!-- <script src="{{site.url}}/js/creatives/lausanne2020.js" type="text/javascript"></script> -->
<script src="{{site.url}}/js/vendors/moment-with-locales.min.js"></script>
<script src="{{site.url}}/js/vendors/jquery.dotdotdot.min.js"></script>

<script>
  $(function(){

    // Randomize title at startup
    random_number = 1 + Math.floor(Math.random() * 3);
    $('.the_claim:nth-of-type('+ random_number +')').addClass('w--current');

    /* SOCIAL_WALL */

    // Truncate quoted status and shared story
    $('.desc').each(function(i, obj) {
      $el = $(this);
      $wrap_story= $el.parent();
      height_available = $wrap_story.outerHeight(true)
      $ps = $wrap_story.children("*:not(.desc)");

      // measure how tall inside should be by adding together
      $ps.each(function() {
        height_available -= $(this).outerHeight(true);
      });

      $el.css('height', height_available)

      $el.dotdotdot()

    });

    // Change Time Format

    moment().format();
    // Get the language in html attribute lang=
    moment.locale($('html')[0].lang);
    // Change the date for every element time in Social_wall div
    $('.social_wall').find('time').each(function(i){
      $( this ).text(moment($( this ).html()).fromNow());
    });

  });
</script>
