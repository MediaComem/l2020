<!DOCTYPE html>
<html>

<head>
    <title>Omega</title>
    <meta charset="UTF-8">
    <meta name="ad.size" content="width=640, height=640">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>
body {
    margin: 0;
    width: 100%;
}

img {
    position: absolute;
}
@font-face {
    font-family: 'OMEGACT';
    src: url('fonts/OmegaCT-Regular.eot'); /* IE9 Compat Modes */
    src: url('fonts/OmegaCT-Regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
         url('fonts/OmegaCT-Regular.woff') format('woff'), /* Modern Browsers */
         url('fonts/OmegaCT-Regular.ttf') format('truetype'), /* Safari, Android, iOS */
         url('fonts/OmegaCT-Regular.svg#OmegaCT-Regular') format('svg'); /* Legacy iOS */
    font-style: normal;
    font-weight: normal;
    text-rendering: optimizeLegibility;
}
#container {
    position: relative;
    min-height: 200px;
    max-height: 640px;
    max-width: 640px;
    min-width: 200px;
    width: 100%;
    height: 100%;
    opacity: 1;
    background-color: #fff;
}
#ad {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 1
}
#aiguilles img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%;
}

#aiguilles {
    position: absolute;
    width: 300px;
    height: 300px;
    top: 19.0625%;
    left: 9.84375%;
    transform-origin:  0 0;
    -webkit-transform-origin:  0 0;
    -moz-transform-origin:  0 0;
    -ms-transform-origin:  0 0;
}

#border {
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0);
    box-sizing: border-box;
    border: 1px solid #bcbcbc;
    position: absolute;
}

#day {
    position: absolute;
    display: block;
    width: 4.8%;
    height: 7%;
    top: 78.3%;
    left: 47%;
    font-size: 14px;
    color: #000000;
    line-height: 17px;
    text-align: center;
    font-weight: 700;
    opacity: 1;
    font-weight: normal;
    font-style: normal;
    font-family: 'OMEGACT', Arial, Helvetica, sans-serif;
}

#logo,
#montre {
    width: 100%;
    height: 100%;
    position: absolute;
}
#clickArea {
    width: 100%;
    height: 100%;
    position: absolute;
    cursor: pointer;
    background-color: rgba(0,0,0,0);
    position: absolute;
    display: block;
}
</style>
<script src="TweenLite.min.js"></script>
<script>
var degres = 0;

var hRot = 0;
var mRot = 0;
var sRot = 0;




window.onload = function() {
    Resize();

    var secondes = document.getElementById('secondes');
    var minutes = document.getElementById('minutes');
    var heures = document.getElementById('heures');
    var day = document.getElementById('day');

    secondes.count = 0;
    minutes.count = 0;
    heures.count = 0;

    function wtii() {
        date = new Date();
        var heure = date.getHours();
        var min = date.getMinutes();
        var sec = date.getSeconds();
        var miliSec = date.getMilliseconds();
        //min = 30;
        var secRot = (sec * 360) / 60;
        var miliSecToSecRot = (miliSec * 360) / 60000;
        sRot = secRot + miliSecToSecRot;
        ///
        var minRot = (min * 360) / 60;
        var secToMinRot = (sec * 360) / 3600;
        mRot = minRot + secToMinRot;
        ///
        var heurRot = (heure * 360) / 12;
        var minToHeurRot = (min * 360) / 720;
        hRot = heurRot + minToHeurRot;

        var Day = date.getDate();
        day.innerHTML = Day;

        if (Day < 10) {
            day.style.fontSize = "18px";
        }
        //trace(min);
        degres++;
        heures.style.msTransform = "rotate(" + (hRot + heures.count) + "deg)";
        minutes.style.msTransform = "rotate(" + (mRot + minutes.count) + "deg)";
        secondes.style.msTransform = "rotate(" + (sRot + secondes.count) + "deg)";
        heures.style.mozTransform = "rotate(" + (hRot + heures.count) + "deg)";
        minutes.style.mozTransform = "rotate(" + (mRot + minutes.count) + "deg)";
        secondes.style.mozTransform = "rotate(" + (sRot + secondes.count) + "deg)";
        heures.style.webkitTransform = "rotate(" + (hRot + heures.count) + "deg)";
        minutes.style.webkitTransform = "rotate(" + (mRot + minutes.count) + "deg)";
        secondes.style.webkitTransform = "rotate(" + (sRot + secondes.count) + "deg)";

        setTimeout(wtii, 10);
    }
    wtii();
    var tweenS = TweenLite.to(secondes, 1, { count: 360, ease: Power3.easeInOut });
    var tweenM = TweenLite.to(minutes, 1, { delay: 0.3, count: 360, ease: Power3.easeInOut });
    var tweenH = TweenLite.to(heures, 1, { delay: 0.6, count: 360, ease: Power3.easeInOut });

}

function Resize() {
    console.log("resize");

    var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth || document.body.offsetWidth;
    var h = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || document.body.offsetHeight;

    var sizeFixed = 640;

    var banner = document.getElementById("container");

    var bannerW = document.getElementById("container").clientWidth,
        bannerH = document.getElementById("container").clientHeight;

    var scaleW = ((bannerW * 100) / sizeFixed) / 100,
        scaleH = ((bannerH * 100) / sizeFixed) / 100;


    if (w > h) {

        if (h >= sizeFixed) {
            document.getElementById("aiguilles").style.transform = "scale(1)";
            document.getElementById("aiguilles").style.webkitTransform  = "scale(1)";
            document.getElementById("aiguilles").style.MozTransform  = "scale(1)";
            document.getElementById("aiguilles").style.msTransform  = "scale(1)";
            document.getElementById("aiguilles").style.OTransform   = "scale(1)";
            banner.style.width = sizeFixed + 'px';
            banner.style.height = sizeFixed + 'px';
        } else {

            banner.style.width = h + 'px';
            banner.style.height = h + 'px';

            scaleW = ((bannerH * 100) / sizeFixed) / 100;
            scaleH = ((bannerH * 100) / sizeFixed) / 100;

            document.getElementById("aiguilles").style.transform = "scale(" + scaleW + ")";
            document.getElementById("aiguilles").style.webkitTransform  = "scale(" + scaleW + ")";
            document.getElementById("aiguilles").style.MozTransform  = "scale(" + scaleW + ")";
            document.getElementById("aiguilles").style.msTransform  = "scale(" + scaleW + ")";
            document.getElementById("aiguilles").style.OTransform  = "scale(" + scaleW + ")";
        }

    } else {

        if (w >= sizeFixed) {
            document.getElementById("aiguilles").style.transform = "scale(1)";
            document.getElementById("aiguilles").style.webkitTransform  = "scale(1)";
            document.getElementById("aiguilles").style.MozTransform  = "scale(1)";
            document.getElementById("aiguilles").style.msTransform  = "scale(1)";
            document.getElementById("aiguilles").style.OTransform   = "scale(1)";
            banner.style.width = sizeFixed + 'px';
            banner.style.height = sizeFixed + 'px';
        } else {

            banner.style.width = w + 'px';
            banner.style.height = w + 'px';

            scaleW = ((bannerW * 100) / sizeFixed) / 100;
            scaleH = ((bannerW * 100) / sizeFixed) / 100;

            document.getElementById("aiguilles").style.transform = "scale(" + scaleH + ")";
            document.getElementById("aiguilles").style.webkitTransform  = "scale(" + scaleH + ")";
            document.getElementById("aiguilles").style.MozTransform  = "scale(" + scaleH + ")";
            document.getElementById("aiguilles").style.msTransform  = "scale(" + scaleH + ")";
            document.getElementById("aiguilles").style.OTransform  = "scale(" + scaleH + ")";
        }

    }
};

function onResize() {
    Resize();
};
window.addEventListener("resize", onResize);
</script>
<script type="text/javascript">
    var clickTag = "http://www.google.com";
    </script>

<body>
    <div id="container">
        <div id="ad">
            <div id="montre">
                <img src="montre.jpg" id="montre" />
                <div id="aiguilles">
                    <div id="day"></div>
                    <img id="heures" src="heures.png" />
                    <img id="minutes" src="minutes.png" />
                    <img id="secondes" src="secondes.png" />
                    
                </div>
            </div>
            <img src="logo.png" id="logo">
            <div id="border"></div>
            <a href="javascript:void(0)" onclick="javascript:window.open(window.clickTag)" id="clickArea"></a>
        </div>
    </div>
</body>

</html>
